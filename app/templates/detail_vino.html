{% extends "base.html" %}

{% block title %}{{ vino.nazev }}{% endblock %}

{% block content %}
<div class="container-md">
    
    <a href="/" class="back-link">&larr; Zpět na seznam</a>

    <div class="card">
        <div class="card-header detail-header">
            <h2 class="page-title">{{ vino.nazev }}</h2>
        </div>

        <div class="detail-info-list">
            
            <div class="detail-row">
                <span class="text-muted">Vinař:</span>
                <span class="detail-value">
                    <a href="/vinar/{{ vino.vinar_id }}" class="link-vinar" style="font-size: 1.1em;">
                        {{ vino.vinar.jmeno }}
                    </a>
                </span>
            </div>

            <div class="detail-row">
                <span class="text-muted">Barva:</span>
                <span class="detail-value">{{ vino.barva if vino.barva else '-' }}</span>
            </div>

            <div class="detail-row">
                <span class="text-muted">Odrůda:</span>
                <span class="detail-value">{{ vino.odruda or '-' }}</span>
            </div>

            <div class="detail-row">
                <span class="text-muted">Přívlastek:</span>
                <span class="detail-value">{{ vino.privlastek if vino.privlastek else '-' }}</span>
            </div>

            <div class="detail-row">
                <span class="text-muted">Sladkost:</span>
                <span class="detail-value">{{ vino.sladkost if vino.sladkost else '-' }}</span>
            </div>

            <div class="detail-row">
                <span class="text-muted">Ročník sklizně:</span>
                <span class="detail-value">{{ vino.rok_sklizne or '-' }}</span>
            </div>   
        </div>
    </div>

    <h3 style="margin-top: 40px; margin-bottom: 20px; color: var(--primary);">Hodnocení poroty</h3>

    {% if hodnoceni %}
        <div style="display: grid; gap: 15px;">
            {% for h in hodnoceni %}
            <div class="card" style="padding: 15px; border-left: 5px solid var(--primary);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <strong>{{ h.hodnotitel.jmeno }}</strong>
                    <span style="font-weight: bold; font-size: 1.2rem; color: #2ecc71;">
                        {{ h.body }} b.
                    </span>
                </div>
                {% if h.poznamka %}
                    <p style="margin: 0; color: #666; font-style: italic;">"{{ h.poznamka }}"</p>
                {% else %}
                    <p style="margin: 0; color: #ccc; font-style: italic;">Bez slovního hodnocení</p>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted">Toto víno zatím nebylo hodnoceno.</p>
    {% endif %}

</div>
{% endblock %}